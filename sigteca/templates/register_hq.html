{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Cadastrar novo HQ" %}{% endblock title %}
{% block title_nav %}{% trans "Cadastrar novo HQ" %}{% endblock title_nav %}

{% block header %}
  <style type="text/css">
    .file-field input.file-path#cover-path {
      margin-left: 120px;
    }
  </style>
{% endblock header %}

{% block content %}
  <div class="container center container-top">
    <h3>{% trans "Cadastre um novo HQ" %}</h3>
  </div>
  <div class="container">
    <div class="row">
      <form class="col s12" method="POST">
        <div class="row">
          <div class="input-field col s6">
            <input id="first-name" type="text" class="validate" />
            <label for="first-name">{% trans "Título" %}</label>
          </div>
          <div class="input-field col s6">
            <input id="last-name" type="text" class="validate" />
            <label for="last-name">{% trans "Subtítulo" %}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="production" type="text" class="validate" />
            <label for="production">{% trans "Produtora" %}</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input id="edition-number" type="text" class="validate" />
            <label for="edition-number">{% trans "Número da Edição" %}</label>
          </div>
          <div class="input-field col s6">
            {# <input type="release-date" class="datepicker"> #}
            <label for="release-date">{% trans "Data de Lançamento" %}</label>
            <input id="release-date" type="text" class="datepicker" />
          </div>
        </div>
        <div class="row">
          <div class="input-field file-field col s12">
            <div class="waves-effect waves-light btn">
              <span>{% trans "Imagem" %}</span>
              <input type="file" />
            </div>
            <input class="file-path validate" id="cover-path" type="text" />
          </div>
        </div>
        <div class="row center">
          <button class="btn-large waves-effect waves-light" type="submit" name="action">{% trans "Cadastrar" %}
            <i class="mdi-content-send right"></i>
          </button>
        </div>
      </form>
    </div>
  </div>
  {# Título, produtora, número da edição, data de lançamento, proprietário (quem cadastrou) e foto. #}
{% endblock content %}
{% block script %}
  <script type="text/javascript">
  $('input[type=text]#edition-number').on('input', function() {
    this.value = this.value.replace(/[^0-9.]/g, '');
    this.value = this.value.replace(/(\..*)\./g, '$1');
  });

  $('.datepicker').pickadate({
    selectMonths: true, // Creates a dropdown to control month
    selectYears: 50, // Creates a dropdown of 15 years to control year[0-9]{2}$
    max: (/[0-9]{2}$/g).exec(parseInt((new Date).getFullYear())) // put current year (only last two digits)
  });
  </script>
{% endblock script %}
